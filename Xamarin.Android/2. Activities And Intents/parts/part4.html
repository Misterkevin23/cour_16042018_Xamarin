<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
    <title>Exercice 4: Passer des arguments à Activité</title>
    <link rel="stylesheet" type="text/css" href="./res/styles/normalize.css">
    <link rel="stylesheet" type="text/css" href="./res/styles/prettify.css" />
    <link rel="stylesheet" type="text/css" href="./res/styles/styles.css">
</head>

<body>
    <!-- Use the same title as the StartHere -->
    <header>Activities et Intents</header>

   	<section id="main">

		<h1 id="page-title"></h1>

		<!-- -------------------------------------------------------------------------------------------------------------------------------------------------------- -->

		<h2>Durée</h2>
		<p>
			10 minutes
		</p>

		<!-- -------------------------------------------------------------------------------------------------------------------------------------------------------- -->

		

		<!-- -------------------------------------------------------------------------------------------------------------------------------------------------------- -->

		<h2>Objectifs</h2>

        <p>
            Ce TP vous montre comment transmettre des arguments à une activité. Vous verrez comment charger les arguments dans l'activité source et comment
             les récupérer dans l'activité cible. La ligne rouge dans l'image ci-dessous indique la partie de l'application sur laquelle vous allez travailler.
        </p>

		<img src="./res/images/Arguments.png" />

		<!-- -------------------------------------------------------------------------------------------------------------------------------------------------------- -->

		

		<!-- -------------------------------------------------------------------------------------------------------------------------------------------------------- -->

		<h2>Challenge</h2>
        <p>
            Utilisez les recommendations ci-dessous pour réaliser l'exercice.
        </p>

		<ol>
			<li>Ouvrez <strong>ItemsActivity.cs</strong>.</li>
			<li>Au sein de la méthode <code>OnItemClick</code>, créez un Intent qui naviguera vers l'activité Details.</li>
			<li>Chargez la position l'élément cliqué au sein des Extras de l'Intent.</li>
			<li>Appelez <code>StartActivity</code> passez le à l'Intent.</li>
			<li>Ouvrez <strong>DetailsActivity.cs</strong>.</li>
			<li>Au sein de la méthode <code>OnCreate</code>, retrouvez la position des Extras de l'Intent et assignez à la variable locale nommée <code>position</code>.</li>
			<li>Exécutez et testez votre application.</li>
		</ol>
        <div hidden>
            <!-- -------------------------------------------------------------------------------------------------------------------------------------------------------- -->
            <h1>Steps</h1>
            <p>
                Below are the step-by-step instructions to implement the exercise.
            </p>
            <h2>
                Load Arguments
            </h2>
            <ol>
                <li>
                    Open <strong>ItemsActivity.cs</strong>.
                </li>
                <li>
                    Locate the <code>OnItemClick</code> method.
                </li>

                <li>
                    Inside <code>OnItemClick</code>, create an Intent that will navigate the app to the Details Activity.
                    The code is provided below, hidden behind a button.
                    <p>
                        <a href="#" onclick="toggleBlock(this, 'Intent', 'Intent', 'Hide'); return false;" class="uiitem">Intent</a>
                        <div class="wsblock" id="Intent" style="display:none;">
<pre class="prettyprint codeblock">
var intent = new Intent(this, typeof(DetailsActivity));
</pre>
                        </div>
                    </p>
                </li>
                <li>
                    Load the position of the clicked item into the Intent Extras. Use "ItemPosition" as the key.
                    The code is provided below, hidden behind a button.
                    <p>
                        <a href="#" onclick="toggleBlock(this, 'Load', 'Load', 'Hide'); return false;" class="uiitem">Load</a>
                        <div class="wsblock" id="Load" style="display:none;">
<pre class="prettyprint codeblock">
void OnItemClick(object sender, AdapterView.ItemClickEventArgs e)
{
  int position = e.Position;
  var intent = new Intent(this, typeof(DetailsActivity));
  intent.PutExtra("ItemPosition", position);
}
</pre>
                        </div>
                    </p>
                </li>
                <li>
                    Call <code>StartActivity</code> and pass it the Intent.
                </li>
            </ol>
            <h2>
                Retrieve Arguments
            </h2>
            <ol>
                <li>
                    Open <strong>DetailsActivity.cs</strong>.
                </li>

                <li>
                    Locate the <code>OnCreate</code> method.
                </li>

                <li>
                    The Intent you created to start the Details Activity is available here in a property named <code>Intent</code>.
                    Retrieve the "ItemPosition" from the Extras of this Intent and assign it to the local variable named <code>position</code>.
                    The code is provided below, hidden behind a button.
                    <p>
                        <a href="#" onclick="toggleBlock(this, 'Retrieve', 'Retrieve', 'Hide'); return false;" class="uiitem">Retrieve</a>
                        <div class="wsblock" id="Retrieve" style="display:none;">
<pre class="prettyprint codeblock">
public class DetailsActivity : Activity
{
  protected override void OnCreate(Bundle bundle)
  {
    ...
    int position = Intent.GetIntExtra("ItemPosition", -1);
    ...
  }
}
</pre>
                        </div>
                    </p>
                </li>
            </ol>
            <h2>
                Test the App
            </h2>
            <ol>
                <li>
                    Run the app.
                </li>
                <li>
                    Navigate to the Items Activity.
                </li>
                <li>
                    Touch an item in the list. Verify that the Details Activity launches and displays the item you selected.
                </li>
            </ol>
        </div>
		<!-- -------------------------------------------------------------------------------------------------------------------------------------------------------- -->

		<h1>Résumé</h1>
        <p>
            Dans cette section, vous avez implémenté un scénario classique Master-Detail. L'activité des éléments a fourni la vue principale et l'activité Détails la vue détaillée.
            Lorsque l'utilisateur a sélectionné un élément dans la vue principale, vous avez navigué dans l'application vers la vue Details et vous avez passé un identifiant d'élément
            (dans ce cas, vous avez utilisé la position de l'élément dans le modèle de données en tant qu'identifiant). 
            Dans l'activité Détails, vous avez récupéré la position de l'élément et l'avez utilisée pour rechercher le bon élément à afficher. 
            Notez que vous avez transmis un identifiant à la place de l'élément entier - ceci est courant dans Android car les références d'objet ne peuvent pas
            être utilisées comme arguments d'activité.
        </p>

		<div class="align-right">
			<a href="../Start%20Here.html">Retour</a>
		</div>

	</section>

    <script src="./res/js/jquery.min.js"></script>
    <script src="./res/js/prettify.js"></script>
    <script src="./res/js/script.js"></script>

    <footer></footer>
</body>
</html>>